@using Newtonsoft.Json

@{
    ViewData["Title"] = "Visualizer";
    Layout = "_Layout";
}

@section Styles
    {
    <link rel="stylesheet" type="text/css" href="~/visualizer/css/main.css">
    <link rel="stylesheet" type="text/css" href="~/visualizer/css/visualization.css">
    <link rel="stylesheet" type="text/css" href="~/visualizer/css/advancedsearch.css">
    <link rel="stylesheet" type="text/css" href="~/css/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="~/css/motion-ui.css">
    <link rel="stylesheet" type="text/css" href="~/css/plugins.css">
}

<div id="pagewrapper">
    <div id="main">
        <div id="querybar" class="grid-x grid-padding-x">
            <partial name="AdvancedSearchPane" />
        </div>

        <div id="drawingpane">
            <div id="viewcontrols">
                <div id="viewcontrolbtns" class="grid-x">
                    <span id="restartLayoutBtn" class="cell viewcontrol has-tip" title="Refresh layout">
                        <i id="restartIcon" class="fas fa-sync-alt"></i>
                    </span>
                    <span id="pausePlayBtn" class="cell viewcontrol has-tip" title="Play/pause layout">
                        <i id="pausePlayIcon" class="fas fa-play"></i>
                    </span>
                    <span id="selectBtn" class="cell viewcontrol has-tip" title="Select tool">
                        <i id="selectIcon" class="fas fa-expand"></i>
                    </span>
                    <span id="cropBtn" class="cell viewcontrol has-tip" title="Crop zoom tool">
                        <i id="cropIcon" class="fas fa-crop-alt"></i>
                    </span>
                    <span id="removeBtn" class="cell viewcontrol has-tip" title="Remove node from layout">
                        <i id="removeIcon" class="fas fa-trash-alt"></i>
                    </span>
                    <span id="centerBtn" class="cell viewcontrol has-tip" title="Center layout">
                        <i id="centerIcon" class="fas fa-crosshairs"></i>
                    </span>
                    <span id="eyeBtn" class="cell viewcontrol has-tip" data-toggle="eyeLabelListWrapper" title="Hide/show items">
                        <i id="eyeIcon" class="far fa-eye"></i>
                    </span>
                    <span id="reportBtn" class="cell viewcontrol has-tip" title="Export to report view" onclick="javascript:onReportClicked(false)">
                        <i id="reportIcon" class="fas fa-file-export"></i>
                    </span>
                    <span id="clearViewBtn" class="cell viewcontrol has-tip" title="Clear current view" onclick="javascript:resetView()">
                        <i id="reportIcon" class="fas fa-ban" style="color:red;"></i>
                    </span>
                    <span class="cell" style="width:24px;"> </span> <!-- spacer -->
                    <span id="menuShowHideButton" class="cell viewcontrol has-tip" title="Hide the search bar">
                        <i id="menuIcon" class="fas fa-angle-up"></i>
                    </span>

                    <div id="eyeLabelListWrapper" class="scrollable dropdown-pane" data-dropdown data-auto-focus="true" data-close-on-click="true">
                        <div class="eyelist">
                            <div><b>Nodes</b></div>
                            <ol id="eyeNodeLabelList" class="no-bullet"></ol>
                            <div><b>Relationships</b></div>
                            <ol id="eyeEdgeLabelList" class="no-bullet"></ol>
                        </div>
                    </div>

                </div>
                <div id="progress" style="width: 0;"></div>
            </div>
        </div>

        <div id="graphstatus" class="grid-x">
            <span id="statusIcon" class="cell small-2"></span>
            <span id="statusMessage" class="cell small-10"></span>
        </div>

        <div id="detailcardwrapper" class="scrollable">

        </div>
    </div>
</div>

<input type="text" hidden="hidden" id=viewdataLoadIDs value="@Html.Raw(JsonConvert.SerializeObject(ViewData["LoadIDs"]))">

@section Scripts
    {
    
    <environment include="Development">
        <script defer src="/script/fontawesome/all.js" type="text/javascript"></script>
        <script src="/script/d3.js" type="text/javascript"></script>
        <script src="/dist/visualizer-bundle.js" type="text/javascript"></script>
    </environment>
    <environment exclude="Development">
        <script defer src="/script/fontawesome/all.js" type="text/javascript"></script>
        <script src="/script/d3-min.js" type="text/javascript"></script>
        <script src="/dist/visualizer-bundle.js" type="text/javascript"></script>
    </environment>
}